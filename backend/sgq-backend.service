[Unit]
Description=SGQ Backend API Service
After=network.target

[Service]
Type=simple
User=ubuntu
WorkingDirectory=/home/ubuntu/sgq-backend/backend
Environment="PATH=/home/ubuntu/sgq-backend/backend/venv/bin"
ExecStart=/home/ubuntu/sgq-backend/backend/venv/bin/uvicorn main:app --host 0.0.0.0 --port 8000 --workers 4
Restart=always
RestartSec=10

# 環境變數（從 .env 檔案讀取，推薦方式）
# 注意：請確保 .env 檔案路徑正確，並且只有擁有者可以讀取（chmod 600）
EnvironmentFile=/home/ubuntu/sgq-backend/backend/.env

# 如果不想使用 EnvironmentFile，可以取消註釋以下行並填入實際值
# Environment="OPENAI_API_KEY=your_key_here"
# Environment="SUPABASE_URL=your_url_here"
# Environment="SUPABASE_KEY=your_key_here"
# Environment="SUPABASE_SERVICE_ROLE_KEY=your_key_here"

[Install]
WantedBy=multi-user.target
